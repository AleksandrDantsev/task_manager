<script setup>
import { computed } from "vue";
import { useStore } from "vuex";

    const store = useStore();

    const props = defineProps({
        assignees: String | null,
        id: Number,
        date: String,
    });

    const typeTask = computed(() => {
        const nameProject = store.state.projectsStore.currentProject;
        return store.getters.getFieldFirstLevelTask([props.date, props.id, "type", nameProject]);
    })


</script>

<template>
    <div class="task_card__assignees-type" @click="openInfoPanel">
        <svg v-if="!assignees" fill="#b3b3b3" width="20" height="20" viewBox="0 0 56 56" xmlns="http://www.w3.org/2000/svg"><path d="M28 51.9A24.08 24.08 0 0 0 51.9 28 24.12 24.12 0 0 0 27.99 4.1 24.06 24.06 0 0 0 4.09 28 24.07 24.07 0 0 0 28 51.9Zm0-3.98A19.83 19.83 0 0 1 8.1 28 19.82 19.82 0 0 1 27.98 8.08 19.91 19.91 0 0 1 47.92 28 19.85 19.85 0 0 1 28 47.92Zm0-21.23c3.4.02 6.12-2.89 6.12-6.7 0-3.57-2.72-6.54-6.12-6.54s-6.12 2.97-6.12 6.53c0 3.82 2.72 6.68 6.12 6.7ZM17.08 39.98H38.9c.94 0 1.4-.64 1.4-1.48 0-2.63-3.93-9.4-12.3-9.4-8.37 0-12.3 6.77-12.3 9.4 0 .84.46 1.48 1.38 1.48Z"/></svg>
        <div v-if="typeTask === 'Call'" class="type-action">
            <svg data-v-69013cdb="" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="v-icon-colored__svg" style="fill: #cf1818; height: 19px; width: 19px;"><path opacity="0.39" d="M18.3 10.1C18.3 10.6 17.9 11 17.4 11C16.9 11 16.5 10.6 16.5 10.1C16.5 8.59998 15.3 7.40002 13.8 7.40002C13.3 7.40002 12.9 7 12.9 6.5C12.9 6 13.3 5.59998 13.8 5.59998C16.3 5.69998 18.3 7.69998 18.3 10.1Z" fill="#cf1818"></path><path d="M9.70001 10.2L13.7 14.2L14.4 13.5C15.5 12.4 17.3 12.4 18.4 13.5L19.1 14.2C20.2 15.3 20.2 17.1 19.1 18.2L18.4 18.9L18.3 19L17.7 19.6C16.1 21.2 13.6 21.3 12.1 19.8C10.3 18.5 8.80001 17.3 7.70001 16.1C6.80001 15.2 5.5 13.7 4 11.7C2.5 10.2 2.60001 7.69998 4.20001 6.09998L4.79999 5.5L4.89999 5.40002L5.6 4.69995C6.7 3.59995 8.5 3.59995 9.6 4.69995L10.3 5.40002C11.4 6.50002 11.4 8.30002 10.3 9.40002L9.70001 10.2ZM21 10.1C21 10.6 20.6 11 20.1 11C19.6 11 19.2 10.6 19.2 10.1C19.2 7.19998 16.8 4.80005 13.9 4.80005C13.4 4.80005 13 4.40002 13 3.90002C13 3.40002 13.4 3 13.9 3C17.8 3 21 6.19998 21 10.1ZM8.39999 8.90002L9.1 8.19995C9.5 7.79995 9.5 7.20002 9.1 6.90002L8.39999 6.19995C7.99999 5.79995 7.4 5.79995 7.1 6.19995L6.39999 6.90002L5.6 7.69995C4.7 8.59995 4.79999 9.89998 5.39999 10.6L5.5 10.7L5.6 10.8C7.1 12.7 8.2 14.1 9.1 15C10.2 16.1 11.6 17.2 13.3 18.5L13.4 18.6L13.5 18.7C14.2 19.4 15.5 19.4 16.4 18.5L17.2 17.7L17.9 17C18.3 16.6 18.3 16 17.9 15.7L17.2 15C16.8 14.6 16.2 14.6 15.9 15L15.2 15.7C14.5 16.4 13.3 16.4 12.5 15.7L8.5 11.7C7.6 10.8 7.59999 9.60002 8.39999 8.90002Z" fill="#cf1818"></path></svg>
        </div>
        <div v-if="typeTask === 'Meeting'" class="type-action">
            <svg data-v-792b3c77="" data-v-1cb665f9="" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="height: 18px; width: 18px; fill: #cf1818; --94dfce4c: inherit;"><path opacity="0.39" d="M15 19H9V21H15V19Z" fill="#cf1818"></path><path d="M16 17C16 15.3 14.7 14 13 14H11C9.3 14 8 15.3 8 17V21C6.9 21 6 20.1 6 19H4C2.9 19 2 18.1 2 17V15C2 13.1 3.10001 11.4 4.70001 10.6C4.00001 9.79998 3.5 8.7 3.5 7.5C3.5 5 5.5 3 8 3C9.5 3 10.9 3.8 11.7 5C11.8 5 11.9 5 12 5C12.1 5 12.2 5 12.3 5C13.1 3.8 14.5 3 16 3C18.5 3 20.5 5 20.5 7.5C20.5 8.7 20 9.79998 19.3 10.6C20.9 11.4 22 13.1 22 15V17C22 18.1 21.1 19 20 19H18C18 20.1 17.1 21 16 21V17ZM18 17H20V15C20 13.3 18.7 12 17 12H15.7C15.6 12.2 15.4 12.4 15.3 12.6C16.9 13.4 18 15.1 18 17ZM18.5 7.5C18.5 6.1 17.4 5 16 5C15.4 5 14.8 5.19998 14.3 5.59998C15.6 6.39998 16.5 7.8 16.5 9.5C16.5 9.7 16.5 9.8 16.5 10C17.6 9.7 18.5 8.7 18.5 7.5ZM14.4 10C14.4 9.8 14.5 9.6 14.5 9.5C14.5 8.1 13.4 7 12 7C10.6 7 9.5 8.1 9.5 9.5C9.5 10.9 10.6 12 12 12C13.2 12 14.2 11.2 14.4 10ZM6 17C6 15.1 7.10001 13.4 8.70001 12.6C8.50001 12.4 8.39999 12.2 8.29999 12H7C5.3 12 4 13.3 4 15V17H6ZM8 5C6.6 5 5.5 6.1 5.5 7.5C5.5 8.7 6.4 9.7 7.5 10C7.5 9.9 7.5 9.7 7.5 9.5C7.5 7.9 8.40001 6.39998 9.70001 5.59998C9.20001 5.19998 8.6 5 8 5Z" fill="#cf1818"></path></svg>
        </div>
    </div>
</template>

<style lang="scss" scoped>
    .task_card__assignees-type {
        display: flex;
        svg {
            cursor: pointer;
            transition-duration: 500ms;
        }
        svg:hover {
            fill:rgb(1, 177, 1)
        }
    }
    .type-action {
        position: absolute;
        left: 35px;
        display: flex;
        align-items: center;
        margin: 0 7px;
        transform: translate3d(0, 1px, 0);
    }
</style>